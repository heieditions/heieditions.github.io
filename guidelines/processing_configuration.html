<!DOCTYPE HTML><html><head><title>heiEDITIONS Dokumentation | Konfigurationen für Verarbeitung und Visualisierung</title><link rel="stylesheet" href="../docu.css"><link rel="stylesheet" href="../prism.css"></head><body><header><a href="https://www.ub.uni-heidelberg.de/publikationsdienste/digitale_editionen.html" target="_blank"><img src="../images/heiEDITIONS_Logo_Doku.svg" alt="Logo heiEDITIONS" id="logo_heieditions"></a></header><nav><a href="../index.html" class="navref">Dokumentation</a> 
                    ☞ 
                    <a href="toc.html" class="navref">Richtlinien</a> 
                    ☞ 
                    Konfigurationen für Verarbeitung und Visualisierung</nav><main>
         <div id="PROCESSING_CONFIGURATION">
            
            <h1>Konfigurationen für Verarbeitung und Visualisierung</h1>
            
            <p>
               Um editorische Arbeitsdateien für die verschiedenen Arten der Visualisierung aufzubereiten,
               werden sie in heiEDITIONS durch XProc-Verarbeitungspipelines geleitet. Solche Pipelines
               können mit bestimmten Parametern und begleitet durch Konfigurationsdateien aufgerufen werden,
               um spezifische Informationen festzulegen, entweder pauschal für ein ganzes Editionsprojekt 
               oder einzeln pro Editionstext.
            </p>
            <p>
               Konfigurationsdateien sollen in heiEDITIONS innerhalb des GitLab-Repositoriums eines
               Editionsprojekts im Verzeichnis <span class="code">configurations</span> vorgehalten werden.
            </p>
            
            <div id="PROCESSING_CONFIGURATION-STRUCTURE">
               
               <h2>Konfiguration einer virtuellen Textgliederung</h2>
               
               <p>
                  Editionstexte können in einem TEI-Dokument innerhalb des Elements <a class="gi" href="../specifications/ref-text.html">&lt;text&gt;</a>
                  mithilfe von <a class="gi" href="../specifications/ref-front.html">&lt;front&gt;</a>, <a class="gi" href="../specifications/ref-body.html">&lt;body&gt;</a> und <a class="gi" href="../specifications/ref-back.html">&lt;back&gt;</a> sowie weiter mit einer beliebig
                  tiefen Hierarchie von <a class="gi" href="../specifications/ref-div.html">&lt;div&gt;</a>-Elementen gegliedert werden. Eine solche Gliederung
                  kann sich auf visuelle Signale einer historischen Quelle stützen oder rein editorische sein. 
               </p>
               <p>
                  Es mag mindestens zwei Gründe geben, die Gliederung eines Editionstextes der eigentlichen
                  Arbeitsdatei mit dem Text fernzuhalten und sie separat (<em>stand-off</em>)
                  zu beschreiben:
               </p>
               <ul>
                  <li>
                     Bei langen Texten, die über eine sehr flache Struktur verfügen (z. B. mittelalterliche Versromane
                     mit vielen Tausenden von Versen ohne eine Kapitelstruktur) kann es für eine sinnvolle Navigation
                     und effiziente Anzeige in der Leseansicht sinnvoll sein, eine künstliche Gliederung allein für
                     die Anzeigezwecke festzulegen. So kann ein langer Text in nicht allzu lange Abschnitte für die Anzeige 
                     aufgeteilt werden, ohne dass dem Text in der Arbeitsdatei selbst eine eigentlich fremde und verfremdende
                     Struktur ›aufgezwungen‹ werden müsste.
                  </li>
                  <li>
                     Über eine externe Gliederungsbeschreibung wäre es auch möglich, eine alternative Gliederung festzulegen,
                     selbst wenn in der Arbeitsdatei schon eine Gliederung vorliegt. So könnte z. B. neben der Gliederung,
                     die sich an visuellen Merkmalen einer Quelle orientiert, parallel noch eine editorisch veränderte
                     Gliederung erstellt werden, die zur Visualisierung in der Leseansicht herangezogen wird.
                  </li>
               </ul>
               <p>
                  Für die <em>stand-off</em>-Beschreibung einer Gliederung bedarf es jeweils pro Text einer
                  eigenen Konfigurationsdatei (eine pauschale Gliederungskonfiguration für mehrere Texte gleichzeitig
                  ist nicht möglich).
                  Der Name einer solchen Datei soll sich aus <span class="code">structure_</span> und dem Namen
                  derjenigen Editionsdatei zusammensetzen, auf deren Text sich die Gliederung bezieht. 
                  Die Konfigurationsdatei ist eine XML-Datei mit dem Suffix <span class="code">.xml</span>. So würde 
                  hypothetisch zu einer Editionsdatei <span class="code">texts/WelscherGast_A.xml</span> eine Strukturkonfigurationsdatei
                  <span class="code">configurations/structure_WelscherGast_A.xml</span> existieren.
               </p>
               <p>
                  Die Strukturkonfigurationsdatei hat das Wurzelelement <a class="gi" href="../specifications/ref-TEI.html">&lt;TEI&gt;</a> und verwendet
                  auch sonst Elemente des TEI-Namensraums <span class="code">http://www.tei-c.org/ns/1.0</span>,
                  sie folgt dem heiEDITIONS-eigenen speziellen Schema 
                  <span class="outlinkprefix">↪ </span><a class="outlink" href="https://digi.ub.uni-heidelberg.de/schema/tei/heiEDITIONS/structure_configuration_schema.rng" target="_blank">https://digi.ub.uni-heidelberg.de/schema/tei/heiEDITIONS/structure_configuration_schema.rng</a> ,
                  das auf dem ODD-Dokument 
                  <span class="outlinkprefix">↪ </span><a class="outlink" href="https://gitlab.ub.uni-heidelberg.de/editions/heieditions-idmms/-/blob/master/special_schemata/structure_configuration_schema.odd" target="_blank">structure_configuration_schema.odd</a> basiert. Die Angabe des Schemas für Validierungszwecke
                  kann der Musterdatei 
                  <span class="outlinkprefix">↪ </span><a class="outlink" href="https://gitlab.ub.uni-heidelberg.de/editions/heieditions-idmms/-/blob/master/mockups/structure_xy.xml" target="_blank">structure_xy.xml</a> entnommen werden.
               </p>
               <p>
                  Das erste Kindelement der Datei ist die Präfixdeklaration <a class="gi" href="../specifications/ref-listPrefixDef.html">&lt;listPrefixDef&gt;</a>, in der erstens – 
                  wie auch sonst immer in ›heiEDITIONS‹ – das Präfix <span class="code">hc</span> für
                  den URI der Ontologie ›heiEDITIONS Concepts‹ und zweitens das Präfix <span class="code">wit</span>
                  als Stellvertreter für den relativen Pfad zur entsprechenden Editionsdatei deklariert werden. Das Präfix
                  <span class="code">wit</span> fungiert also im Weiteren als Abkürzung des Pfades und des Dateinamens der Datei,
                  in der der Text enthalten ist, auf den die virtuelle Struktur angewandt werden soll. Im folgenden
                  Beispiel steht <span class="code">wit</span> für eine Datei, die im Projektrepositorium der Edition unter <span class="code">texts/tagebuch.xml</span>
                  zu finden wäre; der relative Pfad geht davon aus, dass die Strukturkonfigurationsdatei im Projektrepositorium 
                  im Verzeichnis <span class="code">configurations</span> liegt – deswegen gibt der Pfad zunächst einen Schritt ›nach oben‹
                  ins Elternverzeichnis an.
               </p>
               
        <div class="egxml">
            <pre class="language-xml">
                <code><!--<listPrefixDef>
   <prefixDef ident="hc" matchPattern="(.+)" replacementPattern="https://lod.ub.uni-heidelberg.de/ontologies/heieditions/hc/current/$1">
   </prefixDef>
   <prefixDef ident="wit" matchPattern="(.+)" replacementPattern="../texts/tagebuch.xml#$1">
   </prefixDef>
</listPrefixDef>--></code>
            </pre>
        </div>
    
               <p>
                  Das zweite Kind des Wurzelelements <a class="gi" href="../specifications/ref-TEI.html">&lt;TEI&gt;</a> (es muss immer genau zwei Kindelemente geben)
                  definiert das Element in der Editionsdatei, auf dessen Inhalt die virtuelle Struktur angewandt werden soll.
                  Das kann entweder <a class="gi" href="../specifications/ref-text.html">&lt;text&gt;</a> oder <a class="gi" href="../specifications/ref-body.html">&lt;body&gt;</a> sein. <a class="gi" href="../specifications/ref-text.html">&lt;text&gt;</a> ist zu verwenden, wenn sich die
                  virtuelle Struktur nicht nur auf den Inhalt des <a class="gi" href="../specifications/ref-body.html">&lt;body&gt;</a> im Editionsdokument beziehen soll,
                  sondern wenn neben <a class="gi" href="../specifications/ref-body.html">&lt;body&gt;</a> auch noch <a class="gi" href="../specifications/ref-front.html">&lt;front&gt;</a> oder <a class="gi" href="../specifications/ref-back.html">&lt;back&gt;</a> (oder beides)
                  für die virtuelle Struktur zur Anwendung kommen soll. Je nach dem, ob hier <a class="gi" href="../specifications/ref-text.html">&lt;text&gt;</a> oder <a class="gi" href="../specifications/ref-body.html">&lt;body&gt;</a>
                  angegeben ist, wird in der Verarbeitung entweder die ggf. vorgefundene Gliederung (<a class="gi" href="../specifications/ref-front.html">&lt;front&gt;</a>, <a class="gi" href="../specifications/ref-body.html">&lt;body&gt;</a>,
                  <a class="gi" href="../specifications/ref-back.html">&lt;back&gt;</a>, <a class="gi" href="../specifications/ref-div.html">&lt;div&gt;</a> auf beliebiger Ebene) im gesamten <a class="gi" href="../specifications/ref-text.html">&lt;text&gt;</a> entfernt und durch die virtuelle Struktur ersetzt
                  oder nur ggf. vorgefundene <a class="gi" href="../specifications/ref-div.html">&lt;div&gt;</a>-Elemente innerhalb von <a class="gi" href="../specifications/ref-body.html">&lt;body&gt;</a>. Das Element <a class="gi" href="../specifications/ref-text.html">&lt;text&gt;</a>
                  oder <a class="gi" href="../specifications/ref-body.html">&lt;body&gt;</a> bleibt dabei selbst (ggf. mit seinen Attributen) jeweils unangetastet, nur dessen Inhalt wird verarbeitet.
               </p>
               <p>
                  Der Inhalt von <a class="gi" href="../specifications/ref-text.html">&lt;text&gt;</a> oder <a class="gi" href="../specifications/ref-body.html">&lt;body&gt;</a> bildet dann den gewünschten Gliederungsbaum ab,
                  dessen wesentliche Struktur entweder aus <a class="gi" href="../specifications/ref-front.html">&lt;front&gt;</a>, <a class="gi" href="../specifications/ref-body.html">&lt;body&gt;</a>,<a class="gi" href="../specifications/ref-back.html">&lt;back&gt;</a> und darin 
                  befindlichen <a class="gi" href="../specifications/ref-div.html">&lt;div&gt;</a>-Strukturen besteht (wenn das zweite Kindelement von <a class="gi" href="../specifications/ref-TEI.html">&lt;TEI&gt;</a> <a class="gi" href="../specifications/ref-text.html">&lt;text&gt;</a>
                  ist) oder aus <a class="gi" href="../specifications/ref-div.html">&lt;div&gt;</a>-Strukturen (wenn das zweite Kindelement von <a class="gi" href="../specifications/ref-TEI.html">&lt;TEI&gt;</a> <a class="gi" href="../specifications/ref-body.html">&lt;body&gt;</a>
                  ist).
               </p>
               <p>
                  In einem so deklarierten Baum übernehmen dann jeweils in den kleinsten Gliederungseinheiten 
                  (die selbst keine weitere tiefer gelegene Gliederungseinheit enthalten) die <a class="gi" href="../specifications/ref-ptr.html">&lt;ptr&gt;</a>-Elemente
                  die Funktion der Platzhalter für jene Dateibereiche, die mit den virtuellen Einheiten umschlossen werden sollen. 
               </p>
               <p>
                  Nehmen wir als einfaches Beispiel ein <a class="gi" href="../specifications/ref-body.html">&lt;body&gt;</a> an, das in der Editionsdatei eine ›flache‹ Abfolge von 
                  neun Absätzen enthält:
               </p>
               
        <div class="egxml">
            <pre class="language-xml">
                <code><!--<body>
   <p xml:id="p_1">[Absatz 1]</p>
   <p xml:id="p_2">[Absatz 2]</p>
   <p xml:id="p_3">[Absatz 3]</p>
   <p xml:id="p_4">[Absatz 4]</p>
   <p xml:id="p_5">[Absatz 5]</p>
   <p xml:id="p_6">[Absatz 6]</p>
   <p xml:id="p_7">[Absatz 7]</p>
   <p xml:id="p_8">[Absatz 8]</p>
   <p xml:id="p_9">[Absatz 9]</p>
</body>--></code>
            </pre>
        </div>
    
               <p>
                  Auf dieses <a class="gi" href="../specifications/ref-body.html">&lt;body&gt;</a> soll eine virtuelle Gliederung angewandt werden, die jeweils drei Absätze in einem
                  <a class="gi" href="../specifications/ref-div.html">&lt;div&gt;</a> zusammenfasst. Dafür sähe das zweite Kindelement der Strukturkonfigurationsdatei so aus:
               </p>
               
        <div class="egxml">
            <pre class="language-xml">
                <code><!--<body>
   <div ana="hc:Section" xml:id="div_1">
      <ptr target="wit:range(p_1,p_3)"/>
   </div>
   <div ana="hc:Section" xml:id="div_2">
      <ptr target="wit:range(p_4,p_6)"/>
   </div>
   <div ana="hc:Section" xml:id="div_3">
      <ptr target="wit:range(p_7,p_9)"/>
   </div>
</body>--></code>
            </pre>
        </div>
    
               <p>
                  Die Bereiche der Editionsdatei, die innerhalb des dort befindlichen <a class="gi" href="../specifications/ref-body.html">&lt;body&gt;</a> mit <a class="gi" href="../specifications/ref-div.html">&lt;div&gt;</a>-Elementen
                  umschlossen werden sollen, werden in <span class="att">@target</span> der <a class="gi" href="../specifications/ref-ptr.html">&lt;ptr&gt;</a>-Elemente als
                  ›von–bis‹-Verweise auf die <span class="att">@xml:id</span> des jeweils ersten und letzten Elements eines
                  Bereichs angegeben, und zwar mithilfe von der TEI definierten <em>range</em>-Pointer-Syntax 
                  <sup><a href="#note_1" id="note_reference_1" class="note_mark">1)</a></sup> mit
                  dem vorangestellten Präfix <span class="code">wit</span>, der den Pfad zur Editionsdatei repräsentiert. Die durch ein
                  Komma getrennten beiden Werte innerhalb der Klammern von <span class="code">range()</span> sind also
                  die <span class="att">@xml:id</span>-Werte des ersten und letzten Elements eines Abschnitts. Bevor also 
                  eine solche Konfiguration sinnvoll geschrieben werden, müssen im Editionsdokument 
                  zumindest an den betroffenen jeweils ersten und letzten Elementen eines virtuellen Abschnitts
                  die Attribute <span class="att">@xml:id</span> vorliegen.
               </p>
               <p>
                  Die virtuellen <a class="gi" href="../specifications/ref-div.html">&lt;div&gt;</a>-Elemente müssen das Attribut <span class="att">@ana</span> tragen. 
                  Wenn keine andere heiEDITIONS-Klasse besser zutrifft, ist dabei als Wert das generische <span class="loddocborder">› </span><a class="loddoc" href="../concepts/section.html" target="_blank">hc:Section</a><span class="loddocborder"> ‹</span>
                  zu wählen. Das Attribut <span class="att">@xml:id</span> wird ebenfalls benötigt, wird aber – falls es fehlen sollte –
                  in der Verarbeitungspipeline ergänzt. Mit dem Attribut <span class="att">@n</span> kann eine sinnvolle Nummerierung
                  angegeben werden. 
               </p>
               <p>
                  Neben den genannten Attributen <span class="att">@ana</span>, <span class="att">@xml:id</span> und <span class="att">@n</span> kann
                  an <a class="gi" href="../specifications/ref-div.html">&lt;div&gt;</a> ebenfalls das Attribut <span class="att">@rendition</span> mit den möglichen Werten 
                  <span class="loddocborder">› </span><a class="loddoc" href="../concepts/displaydivision.html" target="_blank">hc:DisplayDivision</a><span class="loddocborder"> ‹</span> oder <span class="loddocborder">› </span><a class="loddoc" href="../concepts/suppressintoc.html" target="_blank">hc:SuppressInTOC</a><span class="loddocborder"> ‹</span> angegeben werden (dazu s. weiter unten
                  <a class="inlink" href="#PROCESSING_CONFIGURATION-DISPLAY"></a>).
               </p>
               <p>
                  Es ist zwar nicht zwingend erforderlich, aber sehr empfehlenswert, die virtuell deklarierten Gliederungseinheiten
                  mit editorischen Überschriften zu versehen, um die Abschnitte verständlicher und in einem Inhaltsverzeichnis
                  fassbarer zu machen. Dafür kann am Anfang jedes <a class="gi" href="../specifications/ref-div.html">&lt;div&gt;</a> ein Element <a class="gi" href="../specifications/ref-head.html">&lt;head&gt;</a> (oder für mehrsprachige 
                  Überschriften auch mehrfaches <a class="gi" href="../specifications/ref-head.html">&lt;head&gt;</a>, jeweils mit einem unterschiedlichen <span class="att">@xml:lang</span> versehen)
                  platziert werden, das an <span class="att">@ana</span> mit der Klasse <span class="loddocborder">› </span><a class="loddoc" href="../concepts/editorialcontent.html" target="_blank">hc:EditorialContent</a><span class="loddocborder"> ‹</span> versehen ist,
                  um deutlich zu machen, dass der Text der Überschrift nicht genuiner Bestandteil des Primärtextes ist.
               </p>
               <p>
                  Das obige Beispiel mit den Dreiergruppen von Absätzen könnte also weiter angereichert etwa so aussehen:
               </p>
               
        <div class="egxml">
            <pre class="language-xml">
                <code><!--<body>
   <div ana="hc:Section" xml:id="division_1" n="1">
      <head ana="hc:EditorialContent">Vorbemerkungen</head>
      <ptr target="wit:range(p_1,p_3)"/>
   </div>
   <div ana="hc:Section" xml:id="division_2" n="2">
      <head ana="hc:EditorialContent">Erörterung der Kernthese</head>
      <ptr target="wit:range(p_4,p_6)"/>
   </div>
   <div ana="hc:Section" xml:id="division_3" n="3">
      <head ana="hc:EditorialContent">Fazit</head>
      <ptr target="wit:range(p_7,p_9)"/>
   </div>
</body>--></code>
            </pre>
        </div>
    
               
               
               
            </div>
            
         </div>
      <br><br><hr><div class="endnotes"><h3>Anmerkungen</h3><div class="endnote" id="note_1"><a class="endnote_number" href="#note_reference_1">1</a>S. <span class="outlinkprefix">↪ </span><a class="outlink" href="https://tei-c.org/release/doc/tei-p5-doc/en/html/SA.html#SATSRN" target="_blank">https://tei-c.org/release/doc/tei-p5-doc/en/html/SA.html#SATSRN</a>.</div></div></main><footer><img src="../images/logo-zeile_uni-ub.svg" alt="Logo Universitätsbibliothek Heidelberg und Ruprecht-Karls-Universität Heidelberg" id="logoverbund"><p id="impressum">
                        Letzte Aktualisierung: 01.06.2023
                        ·
                        <a href="https://www.ub.uni-heidelberg.de/wir/impressum.html" target="_blank" class="navref">Impressum</a>
                        ·
                        <a href="https://www.uni-heidelberg.de/de/datenschutzerklaerung" target="_blank" class="navref">Datenschutz</a></p></footer><img src="../images/fx_cut.svg" id="deco" alt="decoration"><script src="../prism.js"></script></body></html>